# 要求仕様

## GitHub Issue
https://github.com/k-negishi/ai-curated-newsletter/issues/15

## 概要
`/add-feature` コマンドを2つのスキルに分割する。

## 要求内容

### 背景
現在の `/add-feature` は、ステアリングファイル作成から実装、検証まで全てを一度に実行する完全自動モードになっている。
しかし、要件が不明確な場合や、設計を先に確認したい場合に対応できない。

### 分割後のスキル

#### スキル1: `/plan` (ステアリングファイル作成)
- issue や指示からステアリングファイルを作成する
- 不明点や明確になっていない点があればユーザーに対話的に確認する
- issue が与えられている場合は、issue と紐づける
- ステアリングファイルにもissue url を貼り付ける
- 出力: `.steering/[日付]-[機能名]/` ディレクトリと3つのファイル

#### スキル2: `/implement` (実装)
- 与えられたステアリングファイル、issue、指示内容から機能を実装する
- Kent Beck の TDD で実装する (RED、GREEN、REFACTOR のサイクル)
- issue や、ステアリングファイルに issue url がある場合は、issue と紐づける
- 既存の `/add-feature` のステップ5以降の処理を実行

### 既存の `/add-feature` の扱い
- `/add-feature` は残す（後方互換性）
- 内部的には `/plan` と `/implement` を順番に呼び出すラッパーとして動作

## 受け入れ条件
- [ ] `/plan [機能名または issue URL]` コマンドが動作する
- [ ] `/plan` 実行後、ステアリングファイルが作成される
- [ ] `/plan` で不明点がある場合、ユーザーに確認できる
- [ ] `/implement [ステアリングディレクトリパス]` コマンドが動作する
- [ ] `/implement` でTDDサイクルで実装される
- [ ] `/add-feature [機能名]` が既存通り動作する（内部で `/plan` + `/implement` を呼ぶ）
- [ ] 全てのテストがパスする
